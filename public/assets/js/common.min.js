let cmn={},ssd={post:[]},IS_HISTORY_API=(cmn.saveFormData=t=>{var s=document.querySelector(t);if(s){s=new FormData(s);let e={};s.forEach((t,s)=>{e[s]=t}),sessionStorage.setItem(t,JSON.stringify(e))}},cmn.loadFormData=t=>{let o=document.querySelector(t);if(o){t=sessionStorage.getItem(t);if(t){let e=JSON.parse(t);Object.keys(e).forEach(s=>{var t=o.querySelector(`[name="${s}"]`);t&&("checkbox"===t.type||"radio"===t.type?o.querySelectorAll(`[name="${s}"]`).forEach(t=>{t.checked=t.value===e[s]}):"SELECT"===t.tagName&&Array.isArray(e[s])?Array.from(t.options).forEach(t=>{t.selected=e[s].includes(t.value)}):t.value=e[s])})}}},cmn.getAgeAtThatTime=(t,s="1975-07-09")=>{let e=t,o=s,a={},n=new Date,i=n.getFullYear(),r=n.getMonth()+1,l=n.getDate(),c;return e=e.replace(/-/g,""),o=o.replace(/-/g,""),r<10&&(r="0"+r),l<10&&(l="0"+l),c=i+""+r+l,0<e-o&&(a.age=Math.floor((e-o)/1e4),a.is_same=Math.floor((c-o)/1e4)===a.age),a},cmn.getDir=t=>{let s=t.split("/").filter(Boolean),e={};return 0===s.length?e.level1="home":s.forEach((t,s)=>{e["level"+(s+1)]=t}),e},cmn.getNrToBr=(t="")=>t=(t=(t=t.replace(/\r\n/g,"<br>")).replace(/\r/g,"<br>")).replace(/\n/g,"<br>"),cmn.getParam=t=>{let s=t||location.href,e=[],o={},a;for(a in s=1<s.split("?").length?s.split("?")[1]:s,e=s.split("&")){var n=e[a].split("=");2==n.length&&""!=n[1].trim()&&(o[n[0]]=n[1])}return o},history&&history.pushState&&void 0!==history.state),IS_HISTORY_PUSH=!1,CURRENT_TIME=(cmn.historyPushState=(t,s,e)=>{IS_HISTORY_API&&(history.pushState(t,s,e),IS_HISTORY_PUSH=!0)},cmn.historySet=s=>{IS_HISTORY_API&&$(window).on("popstate",function(t){t=t.originalEvent?.state||null;s&&s(t)})},$(document).on("mouseenter","a, button",function(){$(this).addClass("hover")}),$(document).on("mouseleave","a, button",function(){$(this).removeClass("hover")}),cmn.htmlEntityDecode=t=>{var s=document.createElement("textarea");return s.innerHTML=t,s.value},cmn.htmlEscape=(t="")=>{var s=document.createElement("div");return s.textContent=t,s.innerHTML},cmn.loadHtml=async(t="")=>{if(""===t.trim())return{status:"fail",message:"ファイル名が指定されていません"};try{var s=await fetch(t,{method:"GET",headers:{"X-CSRF-Token":CSRF_TOKEN}});if(s.ok)return await s.text();throw new Error("HTTPエラー: "+s.status)}catch(t){return""}},cmn.loadJson=async(t="")=>{if(""===t.trim())return{status:"fail",message:"ファイル名が指定されていません"};try{var s=await fetch("/api/index.php",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN},body:JSON.stringify({filename:t})});if(s.ok)return await s.json();throw new Error("HTTPエラー: "+s.status)}catch(t){return{status:"fail",message:t.message||"不明なエラーが発生しました"}}},cmn.pageScroll=(t=1,s=300,e)=>($("html, body").stop(),$("html").animate({scrollTop:t},s),$("body").animate({scrollTop:t},s,function(){e&&e()}),!1),(new Date).getTime()),scroll=(cmn.removeSplash=()=>{var t=1500-Math.min((new Date).getTime()-CURRENT_TIME,1500);setTimeout(()=>{$(".js-splash").remove()},t)},cmn.replaceTag=(t="")=>t.replace(/<[^>]*>/g,""),cmn.replaceUTF=(t="")=>t.replace(/u([\da-fA-F]{4})/g,"&#x$1;"),{}),IS_LOCALSTORAGE=(scroll.is_touch=!!("ontouchstart"in window&&"ontouchend"in window||navigator.msPointerEnabled||0<navigator.maxTouchPoints),scroll.eventstart=scroll.is_touch?"touchstart":"mousedown",scroll.eventmove=scroll.is_touch?"touchmove":"mousemove",scroll.eventend=scroll.is_touch?"touchend":"mouseup",scroll.isNumber=(t="")=>/^[0-9]+$/.test(t),(()=>{let t=new $.Event("resizestop"),s;$(window).on("resize",()=>{s&&clearTimeout(s),s=setTimeout(function(){$(window).trigger(t)},300)})})(),scroll.show=(e=".scroll",o={})=>{let a=$(e),t=$(".scroll__outer",a),n=$(".scroll__inner",a),i=$(".scroll__content",a),s=$(".scroll__bar",a);if(scroll.is_touch)return t.width("").height(""),!1;if(0===a.length||0===t.length||0===n.length||0===i.length)return!1;let r=o.direction||"horizontal",l="horizontal"===r,c="horizontal"===r?"left":"top",m="horizontal"===r?"width":"height",p="horizontal"===r?"height":"width",d="horizontal"===r?"margin-top":"margin-left",h="";o.bg&&(h+=e+" .scroll__bar::after{background:"+o.bg+"}",delete o.bg),o.color&&(h+=e+" .scroll__bar span::after{background:"+o.color+"}",delete o.color),o.size&&scroll.isNumber(o.size)&&(h+=e+" .scroll__bar span::after{"+p+":"+Math.min(o.size,20)+"px;"+d+": "+Math.min(o.size,20)/2*-1+"px}",delete o.size),o.bg_size&&scroll.isNumber(o.size)&&(h+=e+" .scroll__bar::after{"+p+":"+Math.min(o.bg_size,20)+"px;"+d+": "+Math.min(o.bg_size,20)/2*-1+"px}",delete o.bg_size),""!=h&&$("head").append("<style>"+h+"</style>"),n.css({overflow:"hidden"});var u=i[0].scrollWidth,g=i[0].scrollHeight;let _=l?a.width():a.height(),f=l?u:g;if(!(1<=Math.abs(_-f)&&1<f-_))return 0<s.length&&s.hide(),!1;s.show(),n.css({overflow:"auto"});let b=!1,v=0,w=0,y=0,S,j=0,T=0,k=0,P=!1;_-=o.padding||0;n.on("scroll",()=>{if(b)return!1;var t=l?i.position().left:i.position().top;let s=Math.ceil(Math.abs(t)/f*100);100<s+T&&(s=100-T),E.css(c,s+"%")}),$(window).on("resize",()=>{P=!0}),$(window).on("resizestop",()=>{var t=$(".scroll__bar-control",a),s=l?t.width():t.height();S=l?window.innerWidth:window.innerHeight,y!=S&&(scroll.show(e,o),0<t.length&&(j=_-s),P=!1,y=S)}),0===s.length&&(a.append(`
      <div class="scroll__bar scroll__bar--${r}">
        <span class="scroll__bar-control"></span>
      </div>
    `),s=$(".scroll__bar",a),o.padding)&&s.css(m,"calc(100% - "+o.padding+"px)").css(c,o.padding/2+"px");let E=$(".scroll__bar-control",a);l?(t.height(g),n.height(g+30)):(t.width(u),n.width(u+30)),T=Math.ceil(_/f*100),k=l?(E.width(T+"%"),E.width()):(E.height(T+"%"),E.height()),j||(j=_-k,(()=>{let s;E.on(scroll.eventstart,function(t){b=!0,s=l?i.position().left:i.position().top,v=l?t.pageX:t.pageY,w=Math.floor(Math.abs(s)/f*_)}),$(document).on(scroll.eventmove,function(e){if(b&&!P){e=(l?e.pageX:e.pageY)-v,e=w+e;let t=0,s;e=Math.max(0,e),e=Math.min(Math.ceil(j),e),t=Math.ceil(e/_*100),s=f*(t/100),100<t+T&&(t=100-T),E.css(c,t+"%"),l?n.scrollLeft(s):n.scrollTop(s)}}),$(document).on(scroll.eventend,function(){b=!1})})())},cmn.setScriptFromText=t=>{document.querySelector(t).querySelectorAll("script").forEach(t=>{var s=document.createElement("script");t.src?s.src=t.src:s.textContent=t.textContent,document.body.appendChild(s),t.remove()})},cmn.shuffleArray=(t=[])=>{let s,e;for(s=t.length;1<s;s--)e=Math.floor(Math.random()*s),[t[e],t[s-1]]=[t[s-1],t[e]];return t},cmn.sticky=(t="",s,e)=>{let o=document.querySelector(t);if(""===t.trim()||!o||"function"!=typeof s||"function"!=typeof e)return!1;let a=o.getBoundingClientRect().top;window.addEventListener("scroll",()=>{var t=o.getBoundingClientRect().top;t===a?s():a,a=t})},"localStorage"in window&&null!==window.localStorage),IS_SESSIONSTORAGE="sessionStorage"in window&&null!==window.sessionStorage;cmn.storageLS=(s,t)=>{let e=null;if(IS_LOCALSTORAGE&&void 0!==s)if(void 0!==t)localStorage[s]="object"==typeof t?JSON.stringify(t):t;else try{e=new Function("return "+localStorage[s])()}catch(t){e=localStorage[s]}return e},cmn.storageDelLS=t=>{localStorage.removeItem(t)},cmn.storageSS=(s,t)=>{let e=null;if(IS_SESSIONSTORAGE&&void 0!==s)if(void 0!==t)sessionStorage[s]="object"==typeof t?JSON.stringify(t):t;else try{e=new Function("return "+sessionStorage[s])()}catch(t){e=sessionStorage[s]}return e},cmn.storageDelSS=t=>{sessionStorage.removeItem(t)},$(()=>{let c=!1;$(document).on("click",".js-comment-submit",async function(){let t=$(this),s=t.closest(".js-form-comment"),e=$('[name="comment"]',s),o=$('[name="author"]',s),a=$(".js-comment-notification",s),n=$(".js-comment-inner"),i=$(".js-comment-list");$('[name="comment_post_ID"]',s).val();var r=new FormData(s[0]),r=Object.fromEntries(r.entries());if(e.on("input",()=>{a.removeClass("caution").hide()}),!c){if(""===e.val().trim())return a.addClass("caution").html("コメントが入力されていることをご確認の上、もう一度お試しください。").show(),!1;c=!0,t.html('<span class="animation-blinker">送信中...</span>');var l,r=await(await fetch("/assets/ajax/post-comment.php",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN},body:JSON.stringify(r)})).text();"success"===r?(a.removeClass("caution").html("コメントありがとうございます！").show(),l=`
          <div class="post-comment__unit">
            <div class="post-comment__unit-inner">
              ${cmn.getNrToBr(e.val().trim().replace(/</g,"＜").replace(/>/g,"＞"))}
              <div class="post-comment__unit-info">
                <span class="post-comment__unit-name">${cmn.getNrToBr(o.val().trim().replace(/</g,"＜").replace(/>/g,"＞"))||"(匿名)"}</span>
                <time class="post-comment__unit-time">now</time>
              </div>
            </div>
          </div>
        `,0===i.length&&(n.append('<div class="post-comment__list js-comment-list"></div>'),i=$(".js-comment-list")),0<$(".post-comment__unit",i).length?$(".post-comment__unit:first-child",i).before(l):i.append(l),e.val(""),o.val(""),console.log(ssd.post)):(console.log(r),a.addClass("caution").html("コメント送信できませんでした。恐れ入りますが、もう一度お試しください。").show()),c=!1,t.html("コメントする")}return!1})}),ssd.changePage=async(u={},g)=>{let _=$(".js-article-inner"),f=$(".js-loading");_.animate({top:-10,opacity:0},350,async function(){$(window).scrollTop(0),f.show(),u.path||(u.path="404");var t="https://simplesimples.com"+u.path,s=u.path.replace(/^\/|\/$/g,"").split("/"),e={};let o="シンプルシンプルデザイン",a="",n="",i,r,l="",c=!1,m=!1,p=!1;switch(s[0]){case"":p=!0,o="",a="",r=await fetch("/assets/include/pages/home.php"),l=await r.text();break;case"blog":o="個人ブログは引っ越しました | "+o,a="個人ブログは別ドメインに引っ越ししました。ぜひ、引っ越し先をご覧ください。",r=await fetch(`/assets/include/pages/${s[0]}.php`),l=await r.text();break;case"service":o="サービス | "+o,a="",r=await fetch(`/assets/include/pages/${s[0]}.php`),l=await r.text();break;case"about":o="事業内容 | "+o,a="",r=await fetch(`/assets/include/pages/${s[0]}.php`),l=await r.text();break;case"contact":o="お問い合わせ | "+o,a="",r=await fetch(`/assets/include/pages/${s[0]}.php`),l=await r.text();break;case"privacy":o="プライバシーポリシー | "+o,a="",r=await fetch(`/assets/include/pages/${s[0]}.php`),l=await r.text();break;case"post":o="制作ブログ | "+o,a="Web制作や映像制作を主軸とした備忘録です。",n="/assets/images/post-bg-searchbox.png",r=await fetch(`/assets/include/pages/${s[0]}.php`),l=await r.text();break;case"search":if(!(h=cmn.getParam(location.search).q))return void ssd.changePage();h=decodeURIComponent(h);var d=(r=await ssd.loadPostSearch(h)).count||0,d=0<d?d+"件見つかりました。":"見つかりませんでした。",h=cmn.htmlEscape(h);o=`「${h}」の検索結果 | 制作ブログ | `+o,a=`制作ブログ内で「${h}」を含む記事は、`+d,n="/assets/images/post-bg-searchbox.png",l=ssd.setPostListSearch(r.ids||[],a),l=ssd.htmlSeachForm(h)+l;break;case"web":case"video":case"overview":let t="";"web"===s[0]&&s[3]?t=s[3]:"web"!=s[0]&&s[2]&&(t=s[2]),t?(m=!0,t=decodeURIComponent(t),(d=ssd.getPostData(t))&&(o=d.title+" | "+o,a=d.description,n=d.img,l=await ssd.getPostHtml(d.id))&&""!=l?i={id:d.id,html:l}:c=!0):(o=" | "+o,a="",n="",l=ssd.setPostCategory(s[s.length-1])),l=ssd.htmlSeachForm()+l;break;default:c=!0}switch(c&&(o="表示できませんでした | "+o,a="",r=await fetch("/assets/include/pages/system.php"),l=await r.text()),$("title").html(o),$('meta[name="description"]').attr("content",a),$('meta[property="og:image"]').attr("content",n),$('link[rel="canonical"]').attr("href",t),$("body").attr("data-menu","hide").attr("data-page",s[0]||"home"),f.hide(),_.html(l),_.animate({top:0,opacity:1},350),!0){case m:hljs.highlightAll(),ssd.setPostLink(),cmn.setScriptFromText(".js-post-content");break;case p:ssd.businessquotes.is_init||(ssd.businessquotes.is_init=!0,ssd.setBusinessquotes())}g&&u.path!=ssd.last_history&&(ssd.last_history=u.path,e.path=u.path,i&&(e.data=i),cmn.historyPushState(e,"",u.path)),ssd.is_delete_splash||(ssd.is_delete_splash=!0,cmn.removeSplash())})},$(()=>{let c=!1,m=t=>{$('.js-form-contact button[type="button"]').before('<p class="contact__error js-contact-error">'+t+"</p>")};$(document).on("click",'.js-form-contact button[type="button"]',async function(){let t=$(this),s=t.closest(".js-form-contact"),o=$(".js-contact-error",s),a=$(".js-contact-success",s),n=$(".js-contact-success-hide",s);if($(".js-link-contact-noreply",s).on("click",()=>(n.toggle(),!1)),!c){o.remove(),a.hide();var i=new FormData(s.get(0));let e={};if(i.forEach((t,s)=>{e[s]=t}),""===e.name.trim())return m("お名前を入力してください。"),!1;if(!/\S+@\S+\.\S+/.test(e.email))return m("メールアドレスを入力してください。"),!1;if(""===e.content.trim())return m("お問い合わせ内容を入力してください。"),!1;c=!0,t.html('<span class="animation-blinker">送信中...</span>');var i=e.email,r=`
<p>【こちらは自動返信メールです】</p>
<p>このたびは、数ある同業社の中から、シンプルシンプルデザインにお問い合わせいただき、誠にありがとうございます。<br>内容を確認させていただいた後、3営業日以内に担当者からご連絡いたします。<br>申し訳ありませんが、営業メールには返信致しかねますので予めご了承くださいませ。</p>
<p>
<strong>お問い合わせ内容</strong><br>
${e.contact.trim()}
</p>
<p>
<strong>会社名</strong><br>
${e.company.trim()}
</p>
<p>
<strong>お名前</strong><br>
${e.name.trim()}
</p>
<p>
<strong>メールアドレス</strong><br>
${e.email}
</p>
<p>
<strong>お問い合わせ内容詳細</strong><br>
${e.content.trim()}
</p>
            `,l=`
【こちらは自動返信メールです】


このたびは、数ある同業社の中から、シンプルシンプルデザインにお問い合わせいただき、誠にありがとうございます。
内容を確認させていただいた後、3営業日以内に担当者からご連絡いたします。
申し訳ありませんが、営業メールには返信致しかねますので予めご了承くださいませ。


お問い合わせ内容

${e.contact.trim()}


会社名

${e.company.trim()}


お名前

${e.name.trim()}


お問い合わせ内容詳細

${e.content.trim()}
            `,i=await(await fetch("/assets/ajax/contact-form.php",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN},body:JSON.stringify({email:i,subject:"【シンプルシンプルデザイン】お問い合わせありがとうございます",body:r,altbody:l})})).json();if("fail"===i.status)switch(i.message){case"Reload_due_to_invalide_request":m("送信できませんでした。");break;case"Error Message body empty":m("入力不備により、送信できませんでした。")}else n.hide(),a.show(),$('[name="name"]').val("");c=!1,t.html("送信する")}return!1}),$(document).on("change",".js-form-contact input, .js-form-contact textarea, .js-form-contact select",()=>{cmn.saveFormData(".js-form-contact")})}),ssd.getPostData=(s="")=>ssd.list.find(t=>decodeURIComponent(t.slug.replace(/^"|"$/g,""))===s)||null,ssd.getPostHtml=async s=>{let t=ssd.post.find(t=>t.id==s);if(!t){if(!(t=await ssd.loadPost(s))?.content)return"TODO ネット切れてる場合";ssd.post.push(t)}var e=t?.image?`<figure class="post__mainvisual" style="background-image: url(${t.image});"></figure>`:"";let o=t?.acf?.update||"";o&&(n=o.split("-"),o=`(${n[0]}年${+n[1]}月${+n[2]}日更新)`);var a,n=encodeURIComponent("https://simplesimples.com"+t.link),i=encodeURIComponent(cmn.htmlEntityDecode(t.title)),r=encodeURIComponent("【シンプルシンプルデザイン】"),r=`
<ul class="sns-list post__sns-list">
  ${t?.acf?.github?`<li><a class="sns-github" href="${t.acf.github}" target="_blank"><span class="icon-github"></span></a></li>`:""}
  ${t?.acf?.youtube?`<li><a class="sns-youtube" href="${t.acf.youtube}" target="_blank"><span class="icon-youtube"></span></a></li>`:""}
  <li><a href="${`https://x.com/share?url=${n}&text=`+i+r}" target="_blank"><span class="icon-twitter"></span></a></li>
  <li><a href="${"https://www.facebook.com/sharer/sharer.php?u="+n}" target="_blank"><span class="icon-facebook"></span></a></li>
  <li><a href="${`https://line.me/R/msg/text/?${r}${i} `+n}" target="_blank"><span class="icon-line"></span></a></li>
</ul>
  `,i=t?.acf?.stylesheet?`<style>${t.acf.stylesheet}</style>`:"",n=t?.acf?.javascript?`<script>${t.acf.javascript}</script>`:"",l=0===t.comments.length?'<p class="post-comment__none js-comment-none">この記事の最初のコメントを書いてくれると嬉しいです！</p>':"";let c="";for(a of t.comments){let{author:t,content:s,date:e}=a;t=t.trim()||"(匿名)",s=(s=s.replace(/</g,"＜").replace(/>/g,"＞")).replace(/&lt;/g,"＜").replace(/&gt;/g,"＞"),s=cmn.getNrToBr(s),c+=`
<div class="post-comment__unit">
  <div class="post-comment__unit-inner">
    ${s}
    <div class="post-comment__unit-info">
      <span class="post-comment__unit-name">${t}</span>
      <time class="post-comment__unit-time">${e}</time>
    </div>
  </div>
</div>
    `}return c=0===t.comments.length?"":`<div class="post-comment__list js-comment-list">${c}</div>`,`
${i}
<main class="post js-post">
  ${e}
  <header class="post__header">

    <p class="post__datetime-and-category">
      <span class="post__datetime">
          <time datetime="${t.dateitme}">${t.date}</time>
          ${o}
      </span>
      <span class="post__category">${t.category_name}</span>
    </p>

    <h1 class="post__title">${t.title}</h1>
  </header>

  ${r}

  <div class="post-content post__content js-post-content">
    ${t.content}
  </div>

  ${r}

  <div class="post__comment">
    <aside class="post-comment js-comment">
      <div class="post-comment__inner js-comment-inner">
        <h1 class="post-comment__title">COMMENT</h1>
        <p class="post-comment__description js-post-comment__description">最後まで目を通していただき、ありがとうございます。この記事はいかがでしたか？</p>
        ${l}
        <div class="post-comment__form-outer">
          <form id="commentform" class="post-comment__form js-form-comment" method="post" onsubmit="return false;">
            <textarea name="comment"></textarea>
            <p class="post-comment__message js-comment-notification"><strong>コメント送信できませんでした。恐れ入りますが、コメントが入力されていることをご確認の上、もう一度「コメント送信」を選択してください。</strong></p>
            <div class="post-comment__info">
              <input class="post-comment__name" name="author" type="text" value="" placeholder="ニックネーム">
              <button class="post-comment__submit js-comment-submit" type="button">コメントする</button>
            </div>
            <input type="hidden" name="comment_post_ID" value="${t.id}">
            <input type="hidden" name="comment_parent" value="0" />
          </form>
        </div>
        ${c}
      </div>
    </aside>
  </div>
</main>
${n}
  `},ssd.htmlSeachForm=(t="")=>`
<form class="form-search js-form-search" action="/search/" method="get">
  <input type="text" name="q" value="${t}" placeholder="制作ブログ内を検索">
</form>
  `,ssd.loadPost=async(t="")=>{if(""===t)return{status:"fail",message:"投稿IDが指定されていません"};try{var s=await fetch("/api/post.php?post_id="+t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN}});if(s.ok)return await s.json();throw new Error("HTTPエラー: "+s.status)}catch(t){return{status:"fail",message:t.message||"不明なエラーが発生しました"}}},ssd.loadPostSearch=async(t="")=>{if(""===t)return{status:"fail",message:"検索ワードが指定されていません"};try{var s=await fetch("/api/post-search.php?search_word="+t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN}});if(s.ok)return await s.json();throw new Error("HTTPエラー: "+s.status)}catch(t){return{status:"fail",message:t.message||"不明なエラーが発生しました"}}},ssd.setBusinessquotes=()=>{var t=ssd.businessquotes.data[ssd.businessquotes.num],s=$(".js-businessquotes");s.css({opacity:0}),$(".js-businessquotes-title").html(t.title),$(".js-businessquotes-name").html(t.acf.word_name),""===t.acf.word_business?$(".js-businessquotes-business").html("").hide():$(".js-businessquotes-business").html(t.acf.word_business).show(),ssd.businessquotes.num=ssd.businessquotes.num+1,ssd.businessquotes.num===ssd.businessquotes.data.length&&(ssd.businessquotes.num=0),s.animate({opacity:1},650)},ssd.setPostCategory=(s="")=>{let e=ssd.category.find(t=>t.slug==s),t=ssd.list.filter(t=>e.ids.includes(t.category_id)),o="",a="";for(list of t)a+=ssd.setPostListsUnit(list,"h2");return o+=`
<div class="post-category">
  <hgroup class="post-category__hgroup">
    <h1>${e.name}</h1>
    <p>${e.name}に関する記事は、${t.length}件あります。<br>${e.description}</p>
  </hgroup>
  <div class="post-category__content">
    <div class="post-list post-list--category">
      ${a}
    </div>
  </div>
</div>
  `},ssd.setPostLink=()=>{$(".js-post-content a").each(function(){var t=$(this),s=t.attr("href");s.match(/^mailto/)?(t.removeAttr("target"),0===$("img",t).length&&t.prepend('<span class="icon-mail linkmail"></span>')):s.match(/^\//)||s.match(/^https:\/\/simplesimples\.com/)?t.removeAttr("target"):(t.attr("target","_blank").attr("rel","noopener noreferrer"),0==$("img",t).length&&t.append('<span class="icon-windows newwin"></span>'))})},ssd.setPostListSearch=(t,s)=>{let e,o="";if(0<t.length){e=t.split(",").map(t=>Number(t));for(list of e=ssd.list.filter(t=>e.includes(t.id)))o+=ssd.setPostListsUnit(list,"h2")}return`
<div class="search">
  <h1 class="search__title">${s}</h1>
  <div class="post-list post-list--search">
  ${o}
  </div>
</div>
  `},ssd.setPostLists15=()=>{let s="",t="",e="";for(let t=0;t<15;t++)s+=ssd.setPostListsUnit(ssd.list[t],"h4");for(list of ssd.list_popular)t+=ssd.setPostListsUnit(list,"h4");for(list of ssd.list_comment)e+=ssd.setPostListsUnit(list,"h4");$(".js-post-recenlty-lists").html(s),$(".js-post-popular-lists").html(t),$(".js-post-comment-lists").html(e),scroll.show(".js-scroll-post-recenlty"),scroll.show(".js-scroll-post-popular"),scroll.show(".js-scroll-post-comment")},ssd.setPostListsUnit=(t,s="h2")=>html=`
<article class="post-list-unit">
  <a class="js-link post-list-unit__link" href="${t.link}" data-postid="${t.id}">
    <figure class="post-list-unit__figure" style="background-image:url(${t.img})"></figure>
    <div class="post-list-unit__content">
      <${s} class="post-list-unit__title">${t.title}</${s}>
      <p class="post-list-unit__description">${t.description}</p>
      <p class="post-list-unit__time-and-category">
        <time class="post-list-unit__time">${t.date}</time>
        <span class="post-list-unit__category">${t.category_name}</span>
      </p>
    </div>
  </a>
</article>
  `,$(()=>{let s=location.pathname;cmn.historySet(t=>{t?ssd.changePage(t):ssd.changePage({path:s})}),Promise.all([cmn.loadJson("businessquotes.json"),cmn.loadJson("list.json"),cmn.loadJson("list-popular.json"),cmn.loadJson("list-comment.json"),cmn.loadJson("category.json"),cmn.loadHtml("/assets/include/post-nav.html")]).then(t=>{ssd.businessquotes={},ssd.businessquotes.data=t[0],ssd.businessquotes.data=cmn.shuffleArray(ssd.businessquotes.data),ssd.businessquotes.num=0,ssd.businessquotes.is_init=!1,ssd.list=t[1],ssd.list_popular=t[2]?.ids.split(",").map(t=>Number(t)),ssd.list_popular=ssd.list.filter(t=>ssd.list_popular.includes(t.id)),ssd.list_comment=t[3]?.ids.split(",").map(t=>Number(t)),ssd.list_comment=ssd.list.filter(t=>ssd.list_comment.includes(t.id)),ssd.category=t[4],ssd.changePage({path:s}),$(".js-post-nav").html(t[5]),ssd.setPostLists15()}).catch(t=>{console.error("Ohh, somthing happens...",t),ssd.changePage({path:"/system/"}),cmn.removeSplash()})}),$(()=>{let e=$("body");$(".js-menu-link").on("click",()=>{var t=e.attr("data-menu"),s="show"===t?"hide":"show";return console.log(t),e.attr("data-menu",s),!1})}),$(document).on("click",".js-link",function(){var t=$(this).attr("href");return ssd.changePage({path:t},!0),!1}),$(document).on("click",".js-link-businessquotes",()=>(ssd.setBusinessquotes(),!1));