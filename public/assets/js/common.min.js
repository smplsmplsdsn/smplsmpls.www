let cmn={},ssd={post:[]},IS_HISTORY_API=(cmn.saveFormData=t=>{var e=document.querySelector(t);if(e){e=new FormData(e);let s={};e.forEach((t,e)=>{s[e]=t}),sessionStorage.setItem(t,JSON.stringify(s))}},cmn.loadFormData=t=>{let o=document.querySelector(t);if(o){t=sessionStorage.getItem(t);if(t){let s=JSON.parse(t);Object.keys(s).forEach(e=>{var t=o.querySelector(`[name="${e}"]`);t&&("checkbox"===t.type||"radio"===t.type?o.querySelectorAll(`[name="${e}"]`).forEach(t=>{t.checked=t.value===s[e]}):"SELECT"===t.tagName&&Array.isArray(s[e])?Array.from(t.options).forEach(t=>{t.selected=s[e].includes(t.value)}):t.value=s[e])})}}},cmn.getAgeAtThatTime=(t,e="1975-07-09")=>{let s=t,o=e,a={},n=new Date,i=n.getFullYear(),l=n.getMonth()+1,r=n.getDate(),c;return s=s.replace(/-/g,""),o=o.replace(/-/g,""),l<10&&(l="0"+l),r<10&&(r="0"+r),c=i+""+l+r,0<s-o&&(a.age=Math.floor((s-o)/1e4),a.is_same=Math.floor((c-o)/1e4)===a.age),a},cmn.getDir=t=>{let e=t.split("/").filter(Boolean),s={};return 0===e.length?s.level1="home":e.forEach((t,e)=>{s["level"+(e+1)]=t}),s},cmn.getNrToBr=(t="")=>t=(t=(t=t.replace(/\r\n/g,"<br>")).replace(/\r/g,"<br>")).replace(/\n/g,"<br>"),cmn.getParam=t=>{let e=t||location.href,s=[],o={},a;for(a in e=1<e.split("?").length?e.split("?")[1]:e,s=e.split("&")){var n=s[a].split("=");2==n.length&&""!=n[1].trim()&&(o[n[0]]=n[1])}return o},history&&history.pushState&&void 0!==history.state),IS_HISTORY_PUSH=!1,CURRENT_TIME=(cmn.historyPushState=(t,e,s)=>{IS_HISTORY_API&&(history.pushState(t,e,s),IS_HISTORY_PUSH=!0)},cmn.historySet=e=>{IS_HISTORY_API&&$(window).on("popstate",function(t){t=t.originalEvent?.state||null;e&&e(t)})},$(document).on("mouseenter","a, button",function(){$(this).addClass("hover")}),$(document).on("mouseleave","a, button",function(){$(this).removeClass("hover")}),cmn.loadHtml=async(t="")=>{if(""===t.trim())return{status:"fail",message:"ファイル名が指定されていません"};try{var e=await fetch(t,{method:"GET",headers:{"X-CSRF-Token":CSRF_TOKEN}});if(e.ok)return await e.text();throw new Error("HTTPエラー: "+e.status)}catch(t){return""}},cmn.loadJson=async(t="")=>{if(""===t.trim())return{status:"fail",message:"ファイル名が指定されていません"};try{var e=await fetch("/api/index.php",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN},body:JSON.stringify({filename:t})});if(e.ok)return await e.json();throw new Error("HTTPエラー: "+e.status)}catch(t){return{status:"fail",message:t.message||"不明なエラーが発生しました"}}},cmn.pageScroll=(t=1,e=300,s)=>($("html, body").stop(),$("html").animate({scrollTop:t},e),$("body").animate({scrollTop:t},e,function(){s&&s()}),!1),(new Date).getTime()),scroll=(cmn.removeSplash=()=>{var t=1500-Math.min((new Date).getTime()-CURRENT_TIME,1500);setTimeout(()=>{$(".js-splash").remove()},t)},cmn.replaceTag=(t="")=>t.replace(/<[^>]*>/g,""),cmn.replaceUTF=(t="")=>t.replace(/u([\da-fA-F]{4})/g,"&#x$1;"),{}),IS_LOCALSTORAGE=(scroll.is_touch=!!("ontouchstart"in window&&"ontouchend"in window||navigator.msPointerEnabled||0<navigator.maxTouchPoints),scroll.eventstart=scroll.is_touch?"touchstart":"mousedown",scroll.eventmove=scroll.is_touch?"touchmove":"mousemove",scroll.eventend=scroll.is_touch?"touchend":"mouseup",scroll.isNumber=(t="")=>/^[0-9]+$/.test(t),(()=>{let t=new $.Event("resizestop"),e;$(window).on("resize",()=>{e&&clearTimeout(e),e=setTimeout(function(){$(window).trigger(t)},300)})})(),scroll.show=(s=".scroll",o={})=>{let a=$(s),t=$(".scroll__outer",a),n=$(".scroll__inner",a),i=$(".scroll__content",a),e=$(".scroll__bar",a);if(scroll.is_touch)return t.width("").height(""),!1;if(0===a.length||0===t.length||0===n.length||0===i.length)return!1;let l=o.direction||"horizontal",r="horizontal"===l,c="horizontal"===l?"left":"top",m="horizontal"===l?"width":"height",p="horizontal"===l?"height":"width",h="horizontal"===l?"margin-top":"margin-left",d="";o.bg&&(d+=s+" .scroll__bar::after{background:"+o.bg+"}",delete o.bg),o.color&&(d+=s+" .scroll__bar span::after{background:"+o.color+"}",delete o.color),o.size&&scroll.isNumber(o.size)&&(d+=s+" .scroll__bar span::after{"+p+":"+Math.min(o.size,20)+"px;"+h+": "+Math.min(o.size,20)/2*-1+"px}",delete o.size),o.bg_size&&scroll.isNumber(o.size)&&(d+=s+" .scroll__bar::after{"+p+":"+Math.min(o.bg_size,20)+"px;"+h+": "+Math.min(o.bg_size,20)/2*-1+"px}",delete o.bg_size),""!=d&&$("head").append("<style>"+d+"</style>"),n.css({overflow:"hidden"});var u=i[0].scrollWidth,g=i[0].scrollHeight;let _=r?a.width():a.height(),f=r?u:g;if(!(1<=Math.abs(_-f)&&1<f-_))return 0<e.length&&e.hide(),!1;e.show(),n.css({overflow:"auto"});let v=!1,w=0,b=0,y=0,S,j=0,T=0,k=0,P=!1;_-=o.padding||0;n.on("scroll",()=>{if(v)return!1;var t=r?i.position().left:i.position().top;let e=Math.ceil(Math.abs(t)/f*100);100<e+T&&(e=100-T),C.css(c,e+"%")}),$(window).on("resize",()=>{P=!0}),$(window).on("resizestop",()=>{var t=$(".scroll__bar-control",a),e=r?t.width():t.height();S=r?window.innerWidth:window.innerHeight,y!=S&&(scroll.show(s,o),0<t.length&&(j=_-e),P=!1,y=S)}),0===e.length&&(a.append(`
      <div class="scroll__bar scroll__bar--${l}">
        <span class="scroll__bar-control"></span>
      </div>
    `),e=$(".scroll__bar",a),o.padding)&&e.css(m,"calc(100% - "+o.padding+"px)").css(c,o.padding/2+"px");let C=$(".scroll__bar-control",a);r?(t.height(g),n.height(g+30)):(t.width(u),n.width(u+30)),T=Math.ceil(_/f*100),k=r?(C.width(T+"%"),C.width()):(C.height(T+"%"),C.height()),j||(j=_-k,(()=>{let e;C.on(scroll.eventstart,function(t){v=!0,e=r?i.position().left:i.position().top,w=r?t.pageX:t.pageY,b=Math.floor(Math.abs(e)/f*_)}),$(document).on(scroll.eventmove,function(s){if(v&&!P){s=(r?s.pageX:s.pageY)-w,s=b+s;let t=0,e;s=Math.max(0,s),s=Math.min(Math.ceil(j),s),t=Math.ceil(s/_*100),e=f*(t/100),100<t+T&&(t=100-T),C.css(c,t+"%"),r?n.scrollLeft(e):n.scrollTop(e)}}),$(document).on(scroll.eventend,function(){v=!1})})())},cmn.shuffleArray=(t=[])=>{let e,s;for(e=t.length;1<e;e--)s=Math.floor(Math.random()*e),[t[s],t[e-1]]=[t[e-1],t[s]];return t},cmn.sticky=(t="",e,s)=>{let o=document.querySelector(t);if(""===t.trim()||!o||"function"!=typeof e||"function"!=typeof s)return!1;let a=o.getBoundingClientRect().top;window.addEventListener("scroll",()=>{var t=o.getBoundingClientRect().top;t===a?e():a,a=t})},"localStorage"in window&&null!==window.localStorage),IS_SESSIONSTORAGE="sessionStorage"in window&&null!==window.sessionStorage;cmn.storageLS=(e,t)=>{let s=null;if(IS_LOCALSTORAGE&&void 0!==e)if(void 0!==t)localStorage[e]="object"==typeof t?JSON.stringify(t):t;else try{s=new Function("return "+localStorage[e])()}catch(t){s=localStorage[e]}return s},cmn.storageDelLS=t=>{localStorage.removeItem(t)},cmn.storageSS=(e,t)=>{let s=null;if(IS_SESSIONSTORAGE&&void 0!==e)if(void 0!==t)sessionStorage[e]="object"==typeof t?JSON.stringify(t):t;else try{s=new Function("return "+sessionStorage[e])()}catch(t){s=sessionStorage[e]}return s},cmn.storageDelSS=t=>{sessionStorage.removeItem(t)},$(()=>{let c=!1;$(document).on("click",".js-comment-submit",async function(){let t=$(this),e=t.closest(".js-form-comment"),s=$('[name="comment"]',e),o=$('[name="author"]',e),a=$(".js-comment-notification",e),n=$(".js-comment-inner"),i=$(".js-comment-list");$('[name="comment_post_ID"]',e).val();var l=new FormData(e[0]),l=Object.fromEntries(l.entries());if(s.on("input",()=>{a.removeClass("caution").hide()}),!c){if(""===s.val().trim())return a.addClass("caution").html("コメントが入力されていることをご確認の上、もう一度お試しください。").show(),!1;c=!0,t.html('<span class="animation-blinker">送信中...</span>');var r,l=await(await fetch("/assets/ajax/post-comment.php",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN},body:JSON.stringify(l)})).text();"success"===l?(a.removeClass("caution").html("コメントありがとうございます！").show(),r=`
          <div class="post-comment__unit">
            <div class="post-comment__unit-inner">
              ${cmn.getNrToBr(s.val().trim().replace(/</g,"＜").replace(/>/g,"＞"))}
              <div class="post-comment__unit-info">
                <span class="post-comment__unit-name">${cmn.getNrToBr(o.val().trim().replace(/</g,"＜").replace(/>/g,"＞"))||"(匿名)"}</span>
                <time class="post-comment__unit-time">now</time>
              </div>
            </div>
          </div>
        `,0===i.length&&(n.append('<div class="post-comment__list js-comment-list"></div>'),i=$(".js-comment-list")),0<$(".post-comment__unit",i).length?$(".post-comment__unit:first-child",i).before(r):i.append(r),s.val(""),o.val(""),console.log(ssd.post)):(console.log(l),a.addClass("caution").html("コメント送信できませんでした。恐れ入りますが、もう一度お試しください。").show()),c=!1,t.html("コメントする")}return!1})}),ssd.changePage=async(h={},d)=>{let u=$(".js-article"),g=$(".js-article-inner"),_=$(".js-loading");u.css({"min-height":u.height()}),u.animate({top:-10,opacity:0},350,async function(){_.show(),h.path||(h.path="404");var t="https://simplesimples.com"+h.path,e=h.path.replace(/^\/|\/$/g,"").split("/"),s={};let o="シンプルシンプルデザイン",a="",n="",i,l,r="",c=!1,m=!1;switch(e[0]){case"":o="",a="",l=await fetch("/assets/include/pages/home.php"),r=await l.text();break;case"blog":o="個人ブログは引っ越しました | "+o,a="個人ブログは別ドメインに引っ越ししました。ぜひ、引っ越し先をご覧ください。",l=await fetch(`/assets/include/pages/${e[0]}.php`),r=await l.text();break;case"service":o="サービス | "+o,a="",l=await fetch(`/assets/include/pages/${e[0]}.php`),r=await l.text();break;case"about":o="事業内容 | "+o,a="",l=await fetch(`/assets/include/pages/${e[0]}.php`),r=await l.text();break;case"contact":o="お問い合わせ | "+o,a="",l=await fetch(`/assets/include/pages/${e[0]}.php`),r=await l.text();break;case"privacy":o="プライバシーポリシー | "+o,a="",l=await fetch(`/assets/include/pages/${e[0]}.php`),r=await l.text();break;case"post":o="制作ブログ | "+o,a="",n="",l=await fetch(`/assets/include/pages/${e[0]}.php`),r=await l.text();break;case"search":var p=cmn.getParam(location.search).q;if(!p)return void ssd.changePage();p=decodeURIComponent(p),o=`制作ブログ「${p}」の検索結果 | `+o;a=`制作ブログ内で「${p}」を含む記事は、10件見つかりました。`,n="",r=e[0];break;case"web":case"video":case"overview":let t="";"web"===e[0]&&e[3]?t=e[3]:"web"!=e[0]&&e[2]&&(t=e[2]),t?(m=!0,t=decodeURIComponent(t),(post_list=ssd.getPostListInfo(t))&&(o=post_list.title,a=post_list.description,n=post_list.img,r=await ssd.getPostData(post_list.id))&&""!=r?i={id:post_list.id,html:r}:c=!0):(o="",a="",n="",r=ssd.setPostCategory(e[e.length-1]));break;default:c=!0}c&&(o="表示できませんでした | "+o,a="",l=await fetch("/assets/include/pages/system.php"),r=await l.text()),$("title").html(o),$('meta[name="description"]').attr("content",a),$('meta[property="og:image"]').attr("content",n),$('link[rel="canonical"]').attr("href",t),$("body").attr("data-menu","hide").attr("data-page",e[0]||"home"),_.hide(),g.html(r),u.css({"min-height":"unset"}),$(window).scrollTop(0),u.animate({top:0,opacity:1},350),m&&(hljs.highlightAll(),ssd.setPostLink()),d&&h.path!=ssd.last_history&&(ssd.last_history=h.path,s.path=h.path,i&&(s.data=i),cmn.historyPushState(s,"",h.path)),ssd.is_delete_splash||(ssd.is_delete_splash=!0,cmn.removeSplash())})},$(()=>{let c=!1,m=t=>{$('.js-form-contact button[type="button"]').before('<p class="contact__error js-contact-error">'+t+"</p>")};$(document).on("click",'.js-form-contact button[type="button"]',async function(){let t=$(this),e=t.closest(".js-form-contact"),o=$(".js-contact-error",e),a=$(".js-contact-success",e),n=$(".js-contact-success-hide",e);if($(".js-link-contact-noreply",e).on("click",()=>(n.toggle(),!1)),!c){o.remove(),a.hide();var i=new FormData(e.get(0));let s={};if(i.forEach((t,e)=>{s[e]=t}),""===s.name.trim())return m("お名前を入力してください。"),!1;if(!/\S+@\S+\.\S+/.test(s.email))return m("メールアドレスを入力してください。"),!1;if(""===s.content.trim())return m("お問い合わせ内容を入力してください。"),!1;c=!0,t.html('<span class="animation-blinker">送信中...</span>');var i=s.email,l=`
<p>【こちらは自動返信メールです】</p>
<p>このたびは、数ある同業社の中から、シンプルシンプルデザインにお問い合わせいただき、誠にありがとうございます。<br>内容を確認させていただいた後、3営業日以内に担当者からご連絡いたします。<br>申し訳ありませんが、営業メールには返信致しかねますので予めご了承くださいませ。</p>
<p>
<strong>お問い合わせ内容</strong><br>
${s.contact.trim()}
</p>
<p>
<strong>会社名</strong><br>
${s.company.trim()}
</p>
<p>
<strong>お名前</strong><br>
${s.name.trim()}
</p>
<p>
<strong>メールアドレス</strong><br>
${s.email}
</p>
<p>
<strong>お問い合わせ内容詳細</strong><br>
${s.content.trim()}
</p>
            `,r=`
【こちらは自動返信メールです】


このたびは、数ある同業社の中から、シンプルシンプルデザインにお問い合わせいただき、誠にありがとうございます。
内容を確認させていただいた後、3営業日以内に担当者からご連絡いたします。
申し訳ありませんが、営業メールには返信致しかねますので予めご了承くださいませ。


お問い合わせ内容

${s.contact.trim()}


会社名

${s.company.trim()}


お名前

${s.name.trim()}


お問い合わせ内容詳細

${s.content.trim()}
            `,i=await(await fetch("/assets/ajax/contact-form.php",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN},body:JSON.stringify({email:i,subject:"【シンプルシンプルデザイン】お問い合わせありがとうございます",body:l,altbody:r})})).json();if("fail"===i.status)switch(i.message){case"Reload_due_to_invalide_request":m("送信できませんでした。");break;case"Error Message body empty":m("入力不備により、送信できませんでした。")}else n.hide(),a.show(),$('[name="name"]').val("");c=!1,t.html("送信する")}return!1}),$(document).on("change",".js-form-contact input, .js-form-contact textarea, .js-form-contact select",()=>{cmn.saveFormData(".js-form-contact")})}),ssd.getPostData=async e=>{let t=ssd.post.find(t=>t.id==e);if(!t){if(!(t=await ssd.loadPost(e))?.content)return"TODO ネット切れてる場合";ssd.post.push(t)}var s=t?.image?`<figure class="post__mainvisual" style="background-image: url(${t.image});"></figure>`:"";let o=t?.acf?.update||"";o&&(n=o.split("-"),o=`(${n[0]}年${n[1]}月${n[2]}日更新)`);var a,n=encodeURIComponent("https://simplesimples.com"+t.link),i=encodeURIComponent(t.title),l=encodeURIComponent("【シンプルシンプルデザイン】"),l=`
<ul class="sns-list post__sns-list">
  ${t?.acf?.github?`<li><a class="sns-github" href="${t.acf.github}" target="_blank"><span class="icon-github"></span></a></li>`:""}
  <li><a href="${`https://x.com/share?url=${n}&text=`+i+l}" target="_blank"><span class="icon-twitter"></span></a></li>
  <li><a href="${"https://www.facebook.com/sharer/sharer.php?u="+n}" target="_blank"><span class="icon-facebook"></span></a></li>
  <li><a href="${`https://line.me/R/msg/text/?${l}${i} `+n}" target="_blank"><span class="icon-line"></span></a></li>
</ul>
  `,i=0===t.comments.length?'<p class="post-comment__none js-comment-none">この記事の最初のコメントを書いてくれると嬉しいです！</p>':"";let r="";for(a of t.comments){let{author:t,content:e,date:s}=a;t=t.trim()||"(匿名)",e=(e=e.replace(/</g,"＜").replace(/>/g,"＞")).replace(/&lt;/g,"＜").replace(/&gt;/g,"＞"),e=cmn.getNrToBr(e),r+=`
<div class="post-comment__unit">
  <div class="post-comment__unit-inner">
    ${e}
    <div class="post-comment__unit-info">
      <span class="post-comment__unit-name">${t}</span>
      <time class="post-comment__unit-time">${s}</time>
    </div>
  </div>
</div>
    `}return r=0===t.comments.length?"":`<div class="post-comment__list js-comment-list">${r}</div>`,`
<main class="post js-post">
  ${s}
  <header class="post__header">

    <p class="post__datetime-and-category">
      <span class="post__datetime">
          <time datetime="${t.dateitme}">${t.date}</time>
          ${o}
      </span>
      <span class="post__category">${t.category_name}</span>
    </p>

    <h1 class="post__title">${t.title}</h1>
  </header>

  ${l}

  <div class="post-content post__content js-post-content">
    ${t.content}
  </div>

  ${l}

  <div class="post__comment">
    <aside class="post-comment js-comment">
      <div class="post-comment__inner js-comment-inner">
        <h1 class="post-comment__title">COMMENT</h1>
        <p class="post-comment__description js-post-comment__description">最後まで目を通していただき、ありがとうございます。この記事はいかがでしたか？</p>
        ${i}
        <div class="post-comment__form-outer">
          <form id="commentform" class="post-comment__form js-form-comment" method="post" onsubmit="return false;">
            <textarea name="comment"></textarea>
            <p class="post-comment__message js-comment-notification"><strong>コメント送信できませんでした。恐れ入りますが、コメントが入力されていることをご確認の上、もう一度「コメント送信」を選択してください。</strong></p>
            <div class="post-comment__info">
              <input class="post-comment__name" name="author" type="text" value="" placeholder="ニックネーム">
              <button class="post-comment__submit js-comment-submit" type="button">コメントする</button>
            </div>
            <input type="hidden" name="comment_post_ID" value="${t.id}">
            <input type="hidden" name="comment_parent" value="0" />
          </form>
        </div>
        ${r}
      </div>
    </aside>
  </div>
</main>
  `},ssd.getPostListInfo=(e="")=>ssd.list.find(t=>decodeURIComponent(t.slug.replace(/^"|"$/g,""))===e)||null,ssd.loadPost=async(t="")=>{if(""===t)return{status:"fail",message:"投稿IDが指定されていません"};try{var e=await fetch("/api/post.php?post_id="+t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":CSRF_TOKEN}});if(e.ok)return await e.json();throw new Error("HTTPエラー: "+e.status)}catch(t){return{status:"fail",message:t.message||"不明なエラーが発生しました"}}},ssd.setPostCategory=(e="")=>{let s=ssd.category.find(t=>t.slug==e),t=ssd.list.filter(t=>s.ids.includes(t.category_id)),o="",a="";for(list of t)a+=ssd.setPostListsUnit(list,"h2");return o+=`
<div class="post-category">
  <hgroup class="post-category__hgroup">
    <h1>${s.name}</h1>
    <p>${s.name}に関する記事は、${t.length}件あります。<br>${s.description}</p>
  </hgroup>
  <div class="post-category__content">
    <div class="post-list post-list--category">
      ${a}
    </div>
  </div>
</div>
  `},ssd.setPostLink=()=>{$(".js-post-content a").each(function(){var t=$(this),e=t.attr("href");e.match(/^mailto/)?(t.removeAttr("target"),0===$("img",t).length&&t.prepend('<span class="icon-mail linkmail"></span>')):e.match(/^\//)||e.match(/^https:\/\/simplesimples\.com/)?t.removeAttr("target"):(t.attr("target","_blank").attr("rel","noopener noreferrer"),0==$("img",t).length&&t.append('<span class="icon-windows newwin"></span>'))})},ssd.setPostLists15=()=>{let e="",t="",s="";for(let t=0;t<15;t++)e+=ssd.setPostListsUnit(ssd.list[t],"h4");for(list of ssd.list_popular)t+=ssd.setPostListsUnit(list,"h4");for(list of ssd.list_comment)s+=ssd.setPostListsUnit(list,"h4");$(".js-post-recenlty-lists").html(e),$(".js-post-popular-lists").html(t),$(".js-post-comment-lists").html(s),scroll.show(".js-scroll-post-recenlty"),scroll.show(".js-scroll-post-popular"),scroll.show(".js-scroll-post-comment")},ssd.setPostListsUnit=(t,e="h2")=>html=`
<article class="post-list-unit">
  <a class="js-link post-list-unit__link" href="${t.link}" data-postid="${t.id}">
    <figure class="post-list-unit__figure" style="background-image:url(${t.img})"></figure>
    <div class="post-list-unit__content">
      <${e} class="post-list-unit__title">${t.title}</${e}>
      <p class="post-list-unit__description">${t.description}</p>
      <p class="post-list-unit__time-and-category">
        <time class="post-list-unit__time">${t.date}</time>
        <span class="post-list-unit__category">${t.category_name}</span>
      </p>
    </div>
  </a>
</article>
  `,$(()=>{let e=location.pathname;cmn.historySet(t=>{t?ssd.changePage(t):ssd.changePage({path:e})}),Promise.all([cmn.loadJson("businessquotes.json"),cmn.loadJson("list.json"),cmn.loadJson("list-popular.json"),cmn.loadJson("list-comment.json"),cmn.loadJson("category.json"),cmn.loadHtml("/assets/include/post-nav.html")]).then(t=>{ssd.businessquotes={},ssd.businessquotes.data=t[0],ssd.businessquotes.data=cmn.shuffleArray(ssd.businessquotes.data),ssd.list=t[1],ssd.list_popular=t[2]?.ids.split(",").map(t=>Number(t)),ssd.list_popular=ssd.list.filter(t=>ssd.list_popular.includes(t.id)),ssd.list_comment=t[3]?.ids.split(",").map(t=>Number(t)),ssd.list_comment=ssd.list.filter(t=>ssd.list_comment.includes(t.id)),ssd.category=t[4],ssd.changePage({path:e}),$(".js-post-nav").html(t[5]),ssd.setPostLists15()}).catch(t=>{console.error("Ohh, somthing happens...",t),ssd.changePage({path:"/system/"}),cmn.removeSplash()})}),$(()=>{let s=$("body");$(".js-menu-link").on("click",()=>{var t=s.attr("data-menu"),e="show"===t?"hide":"show";return console.log(t),s.attr("data-menu",e),!1})}),$(document).on("click",".js-link",function(){var t=$(this).attr("href");return ssd.changePage({path:t},!0),!1});